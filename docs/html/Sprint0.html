<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./css/style.css" />
    <title>Sprint 0</title>
</head>

<body>

    <h1>Contesti</h1>
    <h2><a href="./Requisiti.html">Requisiti del committente</a> </h2>

    <br />

    <img src="./img/Contesti.png">

    <p>

    <h2>Gestione Carico</h2>

    <div>

        Questo contesto si occupa di gestire la ricezione delle richieste di carico. Controlla che il peso del container
        non ecceda la capacità massima, che ci siano slot disponibili, e di restituire lo slot dove il container con un
        certo PID dovrà essere inserito. Inoltre, gestisce lo stato del processo di carico per una specifica richiesta,
        rimanendo in attesa che il container venga consegnato sulla porta di input, e si occupa di segnalare quando un
        nuovo carico può essere elaborato. Il contesto è fondamentale in quanto è responsabile della gestione di tutto
        il processo di carico, determinando quando accettare o rifiutare un'operazione.

    </div>

    <h2>Gestione Prodotto</h2>

    <div>
        Questo contesto si occupa della gestione del ciclo di vita dei prodotti destinati al carico sulla nave. In fase
        di registrazione, a ogni nuovo prodotto viene assegnato un identificativo univoco (PID), il suo peso e se
        necessario, ulteriori informazioni non specificate nei requisiti del cargoservice, ma rilevanti per i sistemi
        esterni (ad esempio: tipo di merce, dimensioni, quantità, ecc.). Questo contesto permette al sistema
        cargoservice di reperire le informazioni sul prodotto attraverso il suo identificativo univoco.
    </div>

    <h2>Inventario Stiva</h2>

    <div>

        Questo contesto gestisce lo stato fisico della stiva, monitorando l'occupazione degli slot, il peso totale dei
        container presenti, e associando a ciascuno di essi l'identificativo univoco (PID) del prodotto contenuto. È
        inoltre responsabile della verifica della disponibilità di slot liberi, consentendo al sistema di rifiutare
        eventuali richieste di carico nel caso in cui non vi sia spazio sufficiente.

    </div>

    <h2>Visualizzazione Stiva</h2>

    <div>

        Questo contesto si occupa di aggiornare l'interfaccia utente mostrando lo stato corrente della stiva. Avere un
        contesto separato che si occupa solo della visualizzazione dello stato della stiva è utile al fine di separare i
        compiti.

    </div>

    <h2>Interazione Sensori</h2>

    <div>

        Questo contesto è incaricato della gestione del'interfaccia con i dispositivi fisici, in particolare con il
        sensore sonar collocato presso l'IOPort. Le sue responsabilità includono la lettura dei dati provenienti dal
        sensore, l'interpretazione di tali dati per rilevare la presenza di un container, e la gestione di eventuali
        condizioni anomale del sensore (in caso di guasto e.g.). Inoltre, potrebbe essere coinvolto nell'interazione con
        il cargorobot, per segnalare l'avvenuta movimentazione del container. Anche se i requisiti non lo specificano
        esplicitamente, la necessità di "garantire che il container sia posizionato" suggerisce l'esistenza di un
        meccanismo di validazione di coordinamento tra questo ed il robot.
    </div>

    <h2>Cargobotservice</h2>

    <div>
        Si occupa di comandare il robot. Per interagire col robot bisogna
        rivolgersi a questo contesto.
    </div>

    </p>

    <br />

    <h1>Interazioni</h1>

    <h2>Gestione Carico</h2>

    <div>

        Questo contesto si occupa di interagire con i seguenti contesti:

        <ul>
            <li>
                Gestione Prodotto: In modo da permettere di recuperare le informazioni riguardanti il prodotto
                registrato nel container.
            </li>
            <li>
                Inventario Stiva: Per controllare che ci siano slot disponibili, per registrare un container
                nello slot in cui verrà caricato e per verificare che il peso dei container nella stiva non ecceda il
                limite massimo.
            </li>
            <li>
                CarboBotService: Per indicare al robot lo slot in cui deve caricare il container.
            </li>

        </ul>

    </div>

    <h2>Inventario Stiva</h2>

    <div>

        Questo contesto si occupa di interagire con il contesto “Visualizzazione Stiva” fornendo le informazioni
        necessarie
        per la rappresentazione dei singoli slot del sistema.

    </div>

    <h2>Interazione Sensori</h2>

    <div>

        Questo contesto interagisce con il contesto “Gestione Carico” per comunicare la presenza sull'ioport di un
        container.

    </div>

    <br />
    <h1>Testing</h1>

    <table>
        <tr>
            <th>
                ID
            </th>
            <th>
                Titolo
            </th>
            <th>
                Tipo
            </th>
            <th>
                Descrizione
            </th>
            <th>
                Input
            </th>
            <th>
                Output
            </th>

        </tr>

        <tr>
            <td>
                T01
            </td>
            <td>
                Univocità del PID
            </td>
            <td>
                Unit Test
            </td>
            <td>
                Gestione Prodotto si occupa di registrare un prodotto e di assegnarli un PID univoco
            </td>
            <td>
                Prodotto da registrare
            </td>
            <td>
                PID univoco
            </td>
        </tr>

        <tr>
            <td>
                T02
            </td>
            <td>
                Salvataggio del prodotto
            </td>
            <td>
                Unit Test
            </td>
            <td>
                Gestione Prodotto si occupa di registrare correttamente il prodotto
            </td>
            <td>
                Prodotto da registrare
            </td>
            <td>
                Entry del prodotto
            </td>
        </tr>

        <tr>
            <td>
                T03
            </td>
            <td>
                Capacità massima
            </td>
            <td>
                Integration Test
            </td>
            <td>
                Gestione Carico si interfaccia con Inventario Stiva per controllare che la capacità del container non
                ecceda la capacità massima
            </td>
            <td>
                PID container
            </td>
            <td>
                Accettazione o rifiuto della richiesta
            </td>
        </tr>

        <tr>
            <td>
                T04
            </td>
            <td>
                Disponibilità di slot
            </td>
            <td>
                Integration Test
            </td>
            <td>
                Gestione Carico controlla che ci siano slot disponibili
            </td>
            <td>
                PID container
            </td>
            <td>
                Accettazione o rifiuto della richiesta
            </td>
        </tr>

        <tr>
            <td>
                T05
            </td>
            <td>
                Gestione delle richieste di carico
            </td>
            <td>
                Unit Test
            </td>
            <td>
                Gestione Carico durante l'attesa che il container venga consegnato all'ioport non accetta richieste
                dall'esterno
            </td>
            <td>
                PID container
            </td>
            <td>
                Rifiuto della richiesta
            </td>
        </tr>

        <tr>
            <td>
                T06
            </td>
            <td>
                Fallimento del sonar
            </td>
            <td>
                Integration Test
            </td>
            <td>
                Nel caso la distanza misurata dal sonar sia maggiore di DFREE per più di tre secondi, Interazione
                Sensori dovrà interrompere il sistema, segnalando l'anomalia a Gestione Carico, e accendere
                il LED
            </td>
            <td>
                D (> DFREE)
            </td>
            <td>
                Interruzione dell'attività e accensione del LED
            </td>
        </tr>

        <tr>
            <td>
                T07
            </td>
            <td>
                Ripristino del sistema
            </td>
            <td>
                Integration Test
            </td>
            <td>
                Nel caso la distanza misurata dal sonar sia minore o uguale di DFREE, Interazione Sensori dovrà
                comunicare a Gestione Carico di ripristinare il sistema
            </td>
            <td>
                D (<= DFREE) </td>
            <td>
                Ripristino dell'attività
            </td>
        </tr>

        <tr>
            <td>
                T08
            </td>
            <td>
                Corretto funzionamento sonar
            </td>
            <td>
                Integration Test
            </td>
            <td>
                Interazione Sensori dovrà segnalare a Gestione Carico l'arrivo di un container sull'ioport in modo da
                poter avviare la procedura di carico
            </td>
            <td>
                Container sull'ioport
            </td>
            <td>
                Avvenuta segnalazione a Gestione Carico
            </td>
        </tr>

        <tr>
            <td>
                T09
            </td>
            <td>
                Comunicazione dello slot di scarico del container
            </td>
            <td>
                Integration Test
            </td>
            <td>
                Gestione Carico dovrà comunicare a Cargobotservice l'identificativo dello slot in cui il container
                presente sull'ioport dovrà essere scaricato.
            </td>
            <td>
                Container sull'ioport
            </td>
            <td>
                Identificativo dello slot
            </td>
        </tr>

    </table>

    <br />
    <h1>Modello delle macro-parti del sistema</h1>

    <div>
        I componenti forniti dal committente sono:
        <ul>
            <li>DDRobot</li>
            <li>Sonar</li>
        </ul>
        I componenti che dovranno essere sviluppati sono:
        <ul>
            <li>Gestione Prodotto</li>
            <li>Gestione Carico</li>
            <li>Inventario Stiva</li>
            <li>Visualizzazione Stiva</li>
            <li>Interazione Sensori</li>
        </ul>
    </div>

    <br/>
    <h1>Piano di lavoro</h1>

    <div>
        Il piano di lavoro prevede l'implementazione dei contesti legati al core-business, ovvero gestioneCarico,
        intentarioStiva e gestioneProdotto. In questo modo sarebbe possibile proporre un'architettura eseguibile e funzionante,
        procedendo poi allo sviluppo degli altri componenti associati alle funzionalità di contorno. In questo Sprint si prevede
        l'implementazione di un sottoinsieme mirato dei casi di test precedentemente discussi, con lo scopo di validare il
        corretto funzionamento del core-business del sistema. In particolare, verranno implementati i test relativi alla
        gestione dei prodotti, alla valutazione delle richieste di carico e alla gestione dello stato fisico della stiva, in
        quanto sono direttamente connessi ai contesti da realizzare. I testi selezionati per questo Sprint sono:
        <ul>
            <li>T01 - Univocità del PID</li>
            <li>T02 - Salvataggio del prodotto</li>
            <li>T03 - Capacità massima</li>
            <li>T04 - Disponibilità di slot</li>
            <li>T05 - Gestione delle richieste di carico</li>
        </ul>
    </div>


</body>

</html>